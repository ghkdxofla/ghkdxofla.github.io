I"‘3<h3 id="ntfs-diskwindowsìš©-formatë¥¼-mountí•˜ì—¬-ì‚¬ìš©í•˜ê¸°">NTFS disk(Windowsìš© format)ë¥¼ mountí•˜ì—¬ ì‚¬ìš©í•˜ê¸°</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td> --><td class="rouge-code"><pre><span class="c">### Install package: ntfs-3g</span>
<span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get <span class="nb">install </span>ntfs-3g

<span class="c">### Create mount point</span>
<span class="nb">sudo mkdir</span> /media/windows

<span class="c">### Check disk whether it is formatted NTFS file system</span>
<span class="nb">sudo </span>fdisk <span class="nt">-l</span>

<span class="c">### ê¸°ë³¸ì ìœ¼ë¡œ, í•´ë‹¹ Packageë¥¼ ì„¤ì¹˜ ì‹œ, ìë™ì„ /media í•˜ìœ„ì—ì„œ mountëœ diskë¥¼ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤</span>

<span class="c">### Link to mount point</span>
<span class="nb">sudo </span>ntfs-3g /dev/sda1<span class="o">{</span>or other path<span class="o">}</span> /media/windows

<span class="c">### Unmount</span>
<span class="nb">sudo </span>umount /media/windows
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="disk-mount-í•˜ê¸°">Disk mount í•˜ê¸°</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td> --><td class="rouge-code"><pre><span class="c">### Check volume</span>
<span class="nb">sudo </span>fdisk <span class="nt">-l</span>

<span class="c">### Create file system</span>
<span class="nb">sudo </span>mkfs.ext4 /dev/sdb

<span class="c">### Create directory received mount</span>
<span class="nb">sudo mkdir</span> /<span class="o">{</span>disk_path<span class="o">}</span> 

<span class="c">### Mount</span>
<span class="nb">sudo </span>mount /dev/sdb /<span class="o">{</span>disk_path<span class="o">}</span>

<span class="c">### Check mount</span>
<span class="nb">df</span> <span class="nt">-h</span>

<span class="c">### Unmount</span>
<span class="nb">sudo </span>umount /<span class="o">{</span>disk_path<span class="o">}</span>

<span class="c">### Mount(Auto) - ì¶”ê°€ ë° í¬ë©§ í›„ ìë™ ë§ˆìš´íŠ¸</span>
<span class="nb">sudo </span>blkid

<span class="c">### íŠ¹ì • ìœ„ì¹˜ë¡œ Auto mount í•˜ê¸°</span>
ë§í¬ ì°¸ì¡°
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="í¬íŠ¸-í™•ì¸-ì—´ê¸°-ë°-ë°©í™”ë²½-í™•ì¸">í¬íŠ¸ í™•ì¸, ì—´ê¸° ë° ë°©í™”ë²½ í™•ì¸</h3>

<p>í¬íŠ¸ í™•ì¸</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td> --><td class="rouge-code"><pre><span class="c">### ì—´ë ¤ìˆëŠ” ëª¨ë“  í¬íŠ¸ í‘œì‹œ</span>
netstat <span class="nt">-nap</span>
<span class="nt">---------------------------------</span>
<span class="nt">-n</span>: hostëª…ìœ¼ë¡œ í‘œì‹œ ì•ˆí•¨
<span class="nt">-a</span>: ëª¨ë“ ì†Œì¼“ í‘œì‹œ
<span class="nt">-p</span>: í”„ë¡œì„¸ìŠ¤IDì™€ í”„ë¡œê·¸ë¨ëª… í‘œì‹œ 
<span class="nt">---------------------------------</span>

<span class="c">### LISTEN ì¤‘ì¸ í¬íŠ¸ í‘œì‹œ</span>
netstat <span class="nt">-nap</span> | <span class="nb">grep </span>LISTEN

<span class="c">### í™•ì¸í•˜ë ¤ëŠ” í¬íŠ¸ë²ˆí˜¸ ìƒíƒœ í™•ì¸</span>
netstat <span class="nt">-nap</span> | <span class="nb">grep </span>í¬íŠ¸ë²ˆí˜¸

<span class="c">### íŠ¹ì • í¬íŠ¸ ìƒíƒœ í™•ì¸</span>
nc <span class="nt">-z</span> www.google.com 80
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ë°©í™”ë²½ì€ iptablesë¡œ ì„¤ì •í•˜ëŠ” ë°©ë²•ê³¼ ufwë¡œ ì„¤ì •í•˜ëŠ” ë°©ë²•ì´ ìˆìŒ</p>

<p>ë°©í™”ë²½ ì„¤ì •(iptables)</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td> --><td class="rouge-code"><pre><span class="c">### ë°©í™”ë²½ ì„¤ì • ì •ë³´ í™•ì¸</span>
iptables <span class="nt">-nL</span>

<span class="c">### ì™¸ë¶€ì—ì„œ ì ‘ì†í•˜ë„ë¡ ì—´ê¸°</span>
iptables <span class="nt">-I</span> INPUT 1 <span class="nt">-p</span> tcp <span class="nt">--dport</span> 12345 <span class="nt">-j</span> ACCEPT

<span class="c">### ë‚´ë¶€ì—ì„œ ì™¸ë¶€ë¡œ ë‚˜ê°ˆ ìˆ˜ ìˆë„ë¡ í¬íŠ¸ ì—´ê¸°</span>
iptables <span class="nt">-I</span> OUTPUT 1 <span class="nt">-p</span> udp <span class="nt">--dport</span> 9002 <span class="nt">-j</span> ACCEPT

<span class="c">### ì¶”ê°€í•œ ì„¤ì • ì¡°íšŒ</span>
iptables <span class="nt">-L</span> <span class="nt">-v</span>

<span class="c">### ì¶”ê°€í•œ ì„¤ì • ì‚­ì œ</span>

<span class="c">### a) ì¶”ê°€í•œ ê·œì¹™ì˜ ë²ˆí˜¸ë¡œ ì‚­ì œí•˜ëŠ” ë°©ë²• </span>
iptables <span class="nt">-D</span> INPUT 1

<span class="c">### b) ì¶”ê°€í–ˆì„ ë•Œì˜ ëª…ë ¹ì–´ì—ì„œ "-I"ë¥¼ "-D"ë¡œ ë°”ê¾¸ì–´ ì£¼ëŠ” ë°©ë²•</span>
iptables <span class="nt">-D</span> INPUT <span class="nt">-p</span> tcp <span class="nt">--dport</span> 12345 <span class="nt">-j</span> ACCEPT

<span class="c">### ë³€ê²½ì‚¬í•­ ì €ì¥</span>
service iptables save

<span class="c">### ë³€ê²½ì‚¬í•­ ì¬ì‹œì‘</span>
/etc/init.d/iptables restart
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ë°©í™”ë²½ ì„¤ì •(ufw)</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td> --><td class="rouge-code"><pre><span class="c">### default setìœ¼ë¡œ ì´ˆê¸°í™”</span>
ufw default deny incoming
ufw default allow outgoing

<span class="c">### í¬íŠ¸ í—ˆìš©</span>
ufw allow 80
ufw allow 6000:6007/udp
ufw allow from 203.203.203.203 to any port 22

<span class="c">### í¬íŠ¸ ë¶ˆí—ˆ</span>
ufw deny 22

<span class="c">### ë£° ì‚­ì œ</span>
ufw delete allow 80
ufw delete 3 <span class="c">### ë²ˆí˜¸ë¡œ ì§€ìš°ëŠ” ë°©ì‹</span>

<span class="c">### ìƒíƒœ í™•ì¸</span>
ufw status

<span class="c">### ë°©í™”ë²½ ì‹œì‘</span>
ufw <span class="nb">enable</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="tar-ì••ì¶•">tar ì••ì¶•</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td> --><td class="rouge-code"><pre><span class="c">### tar(tar.gz)ë¡œ ì••ì¶•í•˜ê¸°</span>
<span class="nb">tar</span> -<span class="o">(</span>z<span class="o">)</span>cvf <span class="o">[</span>íŒŒì¼ëª….tar<span class="o">(</span>.gz<span class="o">)]</span> <span class="o">[</span>í´ë”ëª…]

<span class="c">### ex) abcë¼ëŠ” í´ë”ë¥¼ aaa.tarë¡œ ì••ì¶•í•˜ê³ ì í•œë‹¤ë©´</span>
<span class="nb">tar</span> -<span class="o">(</span>z<span class="o">)</span>cvf aaa.tar<span class="o">(</span>.gz<span class="o">)</span> abc

<span class="c">### tar(tar.gz)ë¡œ ì••ì¶•í’€ê¸°</span>
<span class="nb">tar</span> -<span class="o">(</span>z<span class="o">)</span>xvf <span class="o">[</span>íŒŒì¼ëª….tar<span class="o">(</span>.gz<span class="o">)]</span>

<span class="c">### ex) aaa.tarë¼ëŠ” taríŒŒì¼ ì••ì¶•ì„ í’€ê³ ì í•œë‹¤ë©´</span>
<span class="nb">tar</span> -<span class="o">(</span>z<span class="o">)</span>xvf aaa.tar<span class="o">(</span>.gz<span class="o">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="acl-permissionì´ë€">ACL permissionì´ë€?</h3>
<ul>
  <li>linuxì—ì„œ permissionì˜ ê¸°ì¡´ 3ë¹„íŠ¸ * 3ë¹„íŠ¸ * 3ë¹„íŠ¸(ex : 775) ê¶Œí•œì— ì¶”ê°€í•œ í™•ì¥ ê¶Œí•œ</li>
  <li>getfacl {directory} ë¡œ full permissionì„ í™•ì¸ ê°€ëŠ¥</li>
  <li>https://dgblog.tistory.com/156</li>
</ul>

<h3 id="acl-permission-ì§€ìš°ê¸°ê¶Œí•œ-ë§¨-ë’¤ì—-">ACL permission ì§€ìš°ê¸°(ê¶Œí•œ ë§¨ ë’¤ì— +)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
</pre></td> --><td class="rouge-code"><pre>setfacl <span class="nt">-bn</span> <span class="o">{</span>directory<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="íŒŒì¼-ìƒì„±í•˜ê¸°">íŒŒì¼ ìƒì„±í•˜ê¸°</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td> --><td class="rouge-code"><pre><span class="c">### touch</span>
<span class="nb">touch</span> <span class="o">{</span>file_name<span class="o">}</span>

<span class="c">### cat</span>
<span class="c">### catì€ íŒŒì¼ì„ ìƒì„±í•˜ë©´ì„œ ë°ì´í„°ë¥¼ ì…ë ¥í•  ë•Œ ì‚¬ìš©í•œë‹¤</span>
<span class="nb">cat</span> <span class="o">&gt;</span> <span class="o">{</span>file_name<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ë””ë ‰í† ë¦¬-ìƒì„±í•˜ê¸°">ë””ë ‰í† ë¦¬ ìƒì„±í•˜ê¸°</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
</pre></td> --><td class="rouge-code"><pre><span class="nb">mkdir</span> <span class="o">{</span>dir_name<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="file-descriptor">File descriptor</h3>

<p>ì„¤ëª…</p>
<ul>
  <li>A file descriptor is a number that uniquely identifies an open file in a computerâ€™s operating system</li>
  <li>When a program asks to open a file â€” or another data resource, like a network socket â€” the kernel:
    <ul>
      <li>Grants access</li>
      <li>Creates an entry in the global file table</li>
      <li>Provides the software with the location of that entry</li>
    </ul>
  </li>
</ul>

<p>Linuxì—ì„œì˜ default file descriptor(3ê°œ)</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><center>Name</center></th>
      <th style="text-align: center"><center>File descriptor</center></th>
      <th style="text-align: center"><center>Description</center></th>
      <th style="text-align: center"><center>Abbreviation</center></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Standard input</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">The default data stream for input, for example in a command pipeline. In the terminal, this defaults to keyboard input from the user.</td>
      <td style="text-align: center">stdin</td>
    </tr>
    <tr>
      <td style="text-align: center">Standard output</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">The default data stream for output, for example when a command prints text. In the terminal, this defaults to the userâ€™s screen.</td>
      <td style="text-align: center">stdout</td>
    </tr>
    <tr>
      <td style="text-align: center">Standard error</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">The default data stream for output that relates to an error occurring. In the terminal, this defaults to the userâ€™s screen.</td>
      <td style="text-align: center">stderr</td>
    </tr>
  </tbody>
</table>

<p>descriptor ê´€ë ¨í•´ì„œ grep ë“± ë‚´ìš©ì€ ì¶”ê°€ ì˜ˆì •</p>

<h3 id="í”„ë¡œì„¸ìŠ¤-ìƒíƒœ-í™•ì¸ë©”ëª¨ë¦¬-cpu-ì‚¬ìš©ëŸ‰-ë“±">í”„ë¡œì„¸ìŠ¤ ìƒíƒœ í™•ì¸(ë©”ëª¨ë¦¬, CPU ì‚¬ìš©ëŸ‰ ë“±)</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><!-- <td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td> --><td class="rouge-code"><pre><span class="c">### ì„¤ì¹˜</span>
<span class="nb">sudo </span>apt-get <span class="nb">install </span>htop

<span class="c">### ì‹¤í–‰</span>
htop
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ì‹¤í–‰í™”ë©´ì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©°, ì£¼ìš” íŠ¹ì§•ì€ í´ë¦­ì„ í†µí•œ í•­ëª© ì •ë ¬, ì„ íƒì´ ê°€ëŠ¥í•œ ì ì´ë‹¤
<img src="/assets/media/20200423_084203.png" alt="htop ì‹¤í–‰ í™”ë©´" /></p>

<h3 id="ì°¸ì¡°-ë§í¬">ì°¸ì¡° ë§í¬</h3>

<p><a href="https://chhanz.github.io/linux/2019/01/18/linux-how-to-create-custom-systemd-service/">Service ë“±ë¡</a></p>

<p><a href="https://dgblog.tistory.com/156">Access Control List</a></p>

<p><a href="https://server-engineer.tistory.com/418">ë°©í™”ë²½ ì„¤ì •(iptables)</a></p>

<p><a href="https://happist.com/561474/%EC%9A%B0%EB%B6%84%ED%88%AC-18-04%EB%A1%9C-%EC%84%9C%EB%B2%84-%EC%9A%B4%EC%98%81-ufw%EB%A1%9C-%EB%B0%A9%ED%99%94%EB%B2%BD-%EC%84%A4%EC%A0%95/">ë°©í™”ë²½ ì„¤ì •(ufw)</a></p>

<p><a href="https://www.computerhope.com/jargon/f/file-descriptor.htm">File descriptor</a></p>

<p><a href="https://www.fosslinux.com/4216/how-to-automount-hard-disk-partitions-in-ubuntu.htm">Auto mount í•˜ê¸°</a></p>
:ET